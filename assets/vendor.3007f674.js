function z(){}function D(t){return t()}function F(){return Object.create(null)}function y(t){t.forEach(D)}function nt(t){return typeof t=="function"}function Lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rt(t){return Object.keys(t).length===0}function Pt(t,e,n){t.insertBefore(e,n||null)}function it(t){t.parentNode.removeChild(t)}function At(t){return document.createElement(t)}function at(t){return document.createTextNode(t)}function Ot(){return at(" ")}function St(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function st(t){return Array.from(t.childNodes)}let H;function w(t){H=t}const m=[],G=[],U=[],K=[],ot=Promise.resolve();let O=!1;function ct(){O||(O=!0,ot.then(W))}function S(t){U.push(t)}const A=new Set;let T=0;function W(){const t=H;do{for(;T<m.length;){const e=m[T];T++,w(e),ht(e.$$)}for(w(null),m.length=0,T=0;G.length;)G.pop()();for(let e=0;e<U.length;e+=1){const n=U[e];A.has(n)||(A.add(n),n())}U.length=0}while(m.length);for(;K.length;)K.pop()();O=!1,A.clear(),w(t)}function ht(t){if(t.fragment!==null){t.update(),y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const C=new Set;let v;function jt(){v={r:0,c:[],p:v}}function It(){v.r||y(v.c),v=v.p}function ft(t,e){t&&t.i&&(C.delete(t),t.i(e))}function Ht(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),v.c.push(()=>{C.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Bt(t){t&&t.c()}function ut(t,e,n,r){const{fragment:i,on_mount:a,on_destroy:s,after_update:o}=t.$$;i&&i.m(e,n),r||S(()=>{const h=a.map(D).filter(nt);s?s.push(...h):y(h),t.$$.on_mount=[]}),o.forEach(S)}function lt(t,e){const n=t.$$;n.fragment!==null&&(y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){t.$$.dirty[0]===-1&&(m.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Nt(t,e,n,r,i,a,s,o=[-1]){const h=H;w(t);const c=t.$$={fragment:null,ctx:null,props:a,update:z,not_equal:i,bound:F(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:F(),dirty:o,skip_bound:!1,root:e.target||h.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(p,R,...g)=>{const $=g.length?g[0]:R;return c.ctx&&i(c.ctx[p],c.ctx[p]=$)&&(!c.skip_bound&&c.bound[p]&&c.bound[p]($),u&&pt(t,p)),R}):[],c.update(),u=!0,y(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const p=st(e.target);c.fragment&&c.fragment.l(p),p.forEach(it)}else c.fragment&&c.fragment.c();e.intro&&ft(t.$$.fragment),ut(t,e.target,e.anchor,e.customElement),W()}w(h)}class kt{$destroy(){lt(this,1),this.$destroy=z}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var j=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},b=J,dt=B,gt=wt,vt=Z,_t=X,mt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t){for(var e=[],n=0,r=0,i="",a;(a=mt.exec(t))!=null;){var s=a[0],o=a[1],h=a.index;if(i+=t.slice(r,h),r=h+s.length,o){i+=o[1];continue}i&&(e.push(i),i="");var c=a[2],u=a[3],p=a[4],R=a[5],g=a[6],$=a[7],Y=g==="+"||g==="*",tt=g==="?"||g==="*",q=c||"/",et=p||R||($?".*":"[^"+q+"]+?");e.push({name:u||n++,prefix:c||"",delimiter:q,optional:tt,repeat:Y,pattern:yt(et)})}return r<t.length&&(i+=t.substr(r)),i&&e.push(i),e}function wt(t){return Z(B(t))}function Z(t){for(var e=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(r){for(var i="",a=r||{},s=0;s<t.length;s++){var o=t[s];if(typeof o=="string"){i+=o;continue}var h=a[o.name],c;if(h==null){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(j(h)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+h+'"');if(h.length===0){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<h.length;u++){if(c=encodeURIComponent(h[u]),!e[s].test(c))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');i+=(u===0?o.prefix:o.delimiter)+c}continue}if(c=encodeURIComponent(h),!e[s].test(c))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');i+=o.prefix+c}return i}}function V(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function yt(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function N(t,e){return t.keys=e,t}function M(t){return t.sensitive?"":"i"}function bt(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return N(t,e)}function xt(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(J(t[i],e,n).source);var a=new RegExp("(?:"+r.join("|")+")",M(n));return N(a,e)}function Et(t,e,n){for(var r=B(t),i=X(r,n),a=0;a<r.length;a++)typeof r[a]!="string"&&e.push(r[a]);return N(i,e)}function X(t,e){e=e||{};for(var n=e.strict,r=e.end!==!1,i="",a=t[t.length-1],s=typeof a=="string"&&/\/$/.test(a),o=0;o<t.length;o++){var h=t[o];if(typeof h=="string")i+=V(h);else{var c=V(h.prefix),u=h.pattern;h.repeat&&(u+="(?:"+c+u+")*"),h.optional?c?u="(?:"+c+"("+u+"))?":u="("+u+")?":u=c+"("+u+")",i+=u}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),r?i+="$":i+=n&&s?"":"(?=\\/|$)",new RegExp("^"+i,M(e))}function J(t,e,n){return e=e||[],j(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?bt(t,e):j(t)?xt(t,e,n):Et(t,e,n)}b.parse=dt;b.compile=gt;b.tokensToFunction=vt;b.tokensToRegExp=_t;var _=typeof document!="undefined",l=typeof window!="undefined",L=typeof history!="undefined",Rt=typeof process!="undefined",I=_&&document.ontouchstart?"touchstart":"click",d=l&&!!(window.history.location||window.location);function f(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}f.prototype.configure=function(t){var e=t||{};this._window=e.window||l&&window,this._decodeURLComponents=e.decodeURLComponents!==!1,this._popstate=e.popstate!==!1&&l,this._click=e.click!==!1&&_,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):l&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(I,this.clickHandler,!1):_&&n.document.removeEventListener(I,this.clickHandler,!1),this._hashbang&&l&&!L?n.addEventListener("hashchange",this._onpopstate,!1):l&&n.removeEventListener("hashchange",this._onpopstate,!1)};f.prototype.base=function(t){if(arguments.length===0)return this._base;this._base=t};f.prototype._getBase=function(){var t=this._base;if(t)return t;var e=l&&this._window&&this._window.location;return l&&this._hashbang&&e&&e.protocol==="file:"&&(t=e.pathname),t};f.prototype.strict=function(t){if(arguments.length===0)return this._strict;this._strict=t};f.prototype.start=function(t){var e=t||{};if(this.configure(e),e.dispatch!==!1){this._running=!0;var n;if(d){var r=this._window,i=r.location;this._hashbang&&~i.hash.indexOf("#!")?n=i.hash.substr(2)+i.search:this._hashbang?n=i.search+i.hash:n=i.pathname+i.search+i.hash}this.replace(n,null,!0,e.dispatch)}};f.prototype.stop=function(){if(!!this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(I,this.clickHandler,!1),l&&t.removeEventListener("popstate",this._onpopstate,!1),l&&t.removeEventListener("hashchange",this._onpopstate,!1)}};f.prototype.show=function(t,e,n,r){var i=new x(t,e,this),a=this.prevContext;return this.prevContext=i,this.current=i.path,n!==!1&&this.dispatch(i,a),i.handled!==!1&&r!==!1&&i.pushState(),i};f.prototype.back=function(t,e){var n=this;if(this.len>0){var r=this._window;L&&r.history.back(),this.len--}else setTimeout(t?function(){n.show(t,e)}:function(){n.show(n._getBase(),e)})};f.prototype.redirect=function(t,e){var n=this;typeof t=="string"&&typeof e=="string"&&P.call(this,t,function(r){setTimeout(function(){n.replace(e)},0)}),typeof t=="string"&&typeof e=="undefined"&&setTimeout(function(){n.replace(t)},0)};f.prototype.replace=function(t,e,n,r){var i=new x(t,e,this),a=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=n,i.save(),r!==!1&&this.dispatch(i,a),i};f.prototype.dispatch=function(t,e){var n=0,r=0,i=this;function a(){var o=i.exits[r++];if(!o)return s();o(e,a)}function s(){var o=i.callbacks[n++];if(t.path!==i.current){t.handled=!1;return}if(!o)return $t.call(i,t);o(t,s)}e?a():s()};f.prototype.exit=function(t,e){if(typeof t=="function")return this.exit("*",t);for(var n=new E(t,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))};f.prototype.clickHandler=function(t){if(this._which(t)===1&&!(t.metaKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n){for(var r=0;r<n.length;r++)if(!!n[r].nodeName&&n[r].nodeName.toUpperCase()==="A"&&!!n[r].href){e=n[r];break}}for(;e&&e.nodeName.toUpperCase()!=="A";)e=e.parentNode;if(!(!e||e.nodeName.toUpperCase()!=="A")){var i=typeof e.href=="object"&&e.href.constructor.name==="SVGAnimatedString";if(!(e.hasAttribute("download")||e.getAttribute("rel")==="external")){var a=e.getAttribute("href");if(!(!this._hashbang&&this._samePath(e)&&(e.hash||a==="#"))&&!(a&&a.indexOf("mailto:")>-1)&&!(i?e.target.baseVal:e.target)&&!(!i&&!this.sameOrigin(e.href))){var s=i?e.href.baseVal:e.pathname+e.search+(e.hash||"");s=s[0]!=="/"?"/"+s:s,Rt&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var o=s,h=this._getBase();s.indexOf(h)===0&&(s=s.substr(h.length)),this._hashbang&&(s=s.replace("#!","")),!(h&&o===s&&(!d||this._window.location.protocol!=="file:"))&&(t.preventDefault(),this.show(o))}}}}};f.prototype._onpopstate=function(){var t=!1;return l?(_&&document.readyState==="complete"?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(n){if(!!t){var r=this;if(n.state){var i=n.state.path;r.replace(i,n.state)}else if(d){var a=r._window.location;r.show(a.pathname+a.search+a.hash,void 0,void 0,!1)}}}):function(){}}();f.prototype._which=function(t){return t=t||l&&this._window.event,t.which==null?t.button:t.which};f.prototype._toURL=function(t){var e=this._window;if(typeof URL=="function"&&d)return new URL(t,e.location.toString());if(_){var n=e.document.createElement("a");return n.href=t,n}};f.prototype.sameOrigin=function(t){if(!t||!d)return!1;var e=this._toURL(t),n=this._window,r=n.location;return r.protocol===e.protocol&&r.hostname===e.hostname&&(r.port===e.port||r.port===""&&(e.port==80||e.port==443))};f.prototype._samePath=function(t){if(!d)return!1;var e=this._window,n=e.location;return t.pathname===n.pathname&&t.search===n.search};f.prototype._decodeURLEncodedURIComponent=function(t){return typeof t!="string"?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t};function Q(){var t=new f;function e(){return P.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=Q,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(n){t.len=n}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(n){t.current=n}}),e.Context=x,e.Route=E,e}function P(t,e){if(typeof t=="function")return P.call(this,"*",t);if(typeof e=="function")for(var n=new E(t,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else typeof t=="string"?this[typeof e=="string"?"redirect":"show"](t,e):this.start(t)}function $t(t){if(!t.handled){var e,n=this,r=n._window;n._hashbang?e=d&&this._getBase()+r.location.hash.replace("#!",""):e=d&&r.location.pathname+r.location.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,d&&(r.location.href=t.canonicalPath))}}function Tt(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function x(t,e,n){var r=this.page=n||P,i=r._window,a=r._hashbang,s=r._getBase();t[0]==="/"&&t.indexOf(s)!==0&&(t=s+(a?"#!":"")+t);var o=t.indexOf("?");this.canonicalPath=t;var h=new RegExp("^"+Tt(s));if(this.path=t.replace(h,"")||"/",a&&(this.path=this.path.replace("#!","")||"/"),this.title=_&&i.document.title,this.state=e||{},this.state.path=t,this.querystring=~o?r._decodeURLEncodedURIComponent(t.slice(o+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~o?t.slice(0,o):t),this.params={},this.hash="",!a){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0],this.hash=r._decodeURLEncodedURIComponent(c[1])||"",this.querystring=this.querystring.split("#")[0]}}x.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,L&&e.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};x.prototype.save=function(){var t=this.page;L&&t._window.history.replaceState(this.state,this.title,t._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function E(t,e,n){var r=this.page=n||k,i=e||{};i.strict=i.strict||r._strict,this.path=t==="*"?"(.*)":t,this.method="GET",this.regexp=b(this.path,this.keys=[],i)}E.prototype.middleware=function(t){var e=this;return function(n,r){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,r);r()}};E.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),i=~r?t.slice(0,r):t,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;delete e[0];for(var s=1,o=a.length;s<o;++s){var h=n[s-1],c=this.page._decodeURLEncodedURIComponent(a[s]);(c!==void 0||!hasOwnProperty.call(e,h.name))&&(e[h.name]=c)}return!0};var k=Q(),Ut=k,Ct=k;Ut.default=Ct;export{kt as S,Ot as a,St as b,Pt as c,it as d,At as e,Bt as f,It as g,ft as h,Nt as i,lt as j,jt as k,ut as m,z as n,Ut as p,Lt as s,Ht as t};
